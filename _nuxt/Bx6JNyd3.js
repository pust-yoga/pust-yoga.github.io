import{_ as P,u as B,l as I,r as g,f as N,c as d,b as C,k as v,i as s,a as t,t as n,n as T,d as Y,F as f,h as $,q as z,s as x,o,j as V,w as j,e as q}from"./CnTiVbPT.js";import{_ as D}from"./B4VEEvZO.js";import{u as M}from"./vqA0AyOK.js";const L={key:0},E={class:"bigcard"},F=["src"],H={class:"longDescription"},R={class:"date"},G={class:"card-navigation"},S={style:{flex:"1",display:"flex"}},U={style:{flex:"1",display:"flex","justify-content":"flex-end"}},W={key:0,class:"page-2-title"},J={key:1,class:"activity-grid"},K={class:"image-container"},O=["src"],Q={class:"activity-title"},X={class:"activity-description"},Z={__name:"[activity]",setup(tt){const{$supabase:_}=B(),p=I(),e=g(null),m=g(!1),y=g(!1);M(()=>{var i,a,c,r;return{title:(i=e.value)!=null&&i.name?`${e.value.name} | Pust Yoga`:"Activity | Pust Yoga",meta:[{name:"description",content:((a=e.value)==null?void 0:a.long_description)||"Discover this yoga activity at Pust Yoga Milano."},{property:"og:title",content:(c=e.value)!=null&&c.name?`${e.value.name} | Pust Yoga`:"Activity | Pust Yoga"},{property:"og:description",content:((r=e.value)==null?void 0:r.long_description)||"Discover this yoga activity at Pust Yoga Milano."}]}});async function k(){const{data:i,error:a}=await _.from("activity").select(`
      *,
      teacher_activity (
        *,
        teacher (*)
      )
    `).eq("id",p.params.activity).single();if(a)console.error("Error fetching activity:",a);else{e.value={...i,teachers:i.teacher_activity.map(l=>l.teacher)};const c=parseInt(p.params.activity),r=await _.from("activity").select("id").lt("id",c).order("id",{ascending:!1}).limit(1),u=await _.from("activity").select("id").gt("id",c).order("id",{ascending:!0}).limit(1);m.value=r.data&&r.data.length>0,y.value=u.data&&u.data.length>0}}N(()=>{k()});function h(i){x().push(`/activities/${i}`)}function b(){x().push("/activities")}function w(){const i=parseInt(p.params.activity)-1;i>0&&h(i)}function A(){const i=parseInt(p.params.activity)+1;h(i)}return(i,a)=>{var u;const c=z,r=q;return o(),d(f,null,[C(c,{label:s(e)?s(e).name:" "},null,8,["label"]),s(e)?(o(),d("section",L,[t("h1",null,n(s(e).name),1),t("div",{class:"back-link"},[t("button",{onClick:b,class:"nav-btn-2"},a[0]||(a[0]=[t("svg",{class:"arrow-icon-2",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",viewBox:"0 0 16 16"},[t("path",{"fill-rule":"evenodd",d:"M11.354 1.646a.5.5 0 0 1 0 .708L5.207 8l6.147 5.646a.5.5 0 0 1-.708.708l-6.5-6a.5.5 0 0 1 0-.708l6.5-6a.5.5 0 0 1 .708 0z"})],-1),t("span",{class:"nav-text-1"},"Back to Activities",-1)]))]),t("div",E,[t("article",null,[t("img",{src:s(e).picture,loading:"lazy",alt:"Activity Picture"},null,8,F),t("div",{class:T("activity-level "+(s(e).expertise_level==="Beginner"?" beginner ":s(e).expertise_level==="Intermediate"?" intermediate ":s(e).expertise_level==="Advanced"?" advanced ":""))},n(s(e).expertise_level),3),t("div",null,[t("h2",null,n(s(e).title),1),t("p",H,n(s(e).long_description),1),a[2]||(a[2]=t("h3",null,"Weekly time schedule:",-1)),t("div",R,[a[1]||(a[1]=t("img",{src:D,loading:"lazy",alt:""},null,-1)),Y(" "+n(s(e).date),1)])])]),t("div",G,[t("div",S,[s(m)?(o(),d("button",{key:0,onClick:w,class:"nav-btn"},a[3]||(a[3]=[t("img",{class:"arrow-icon",src:"https://rrginxykskmhdqduxshx.supabase.co/storage/v1/object/public/images//icon_arrow_left.png"},null,-1),t("span",{class:"nav-text-2"},"Previous Activity",-1)]))):v("",!0)]),t("div",U,[s(y)?(o(),d("button",{key:0,onClick:A,class:"nav-btn"},a[4]||(a[4]=[t("span",{class:"nav-text-2"},"Next Activity",-1),t("img",{class:"arrow-icon",src:"https://rrginxykskmhdqduxshx.supabase.co/storage/v1/object/public/images//icon_arrow_right.png"},null,-1)]))):v("",!0)])])]),s(e)?(o(),d("div",W,n("TAUGHT BY"))):v("",!0),(u=s(e))!=null&&u.teachers.length?(o(),d("div",J,[(o(!0),d(f,null,$(s(e).teachers,l=>(o(),V(r,{key:l.id,class:"activity-card card-hover",to:`/teachers/${l.id}`},{default:j(()=>[t("div",K,[t("img",{src:l.picture,alt:"Teacher Image",loading:"lazy",class:"activity-image"},null,8,O)]),t("h3",Q,n(l.firstname),1),t("p",X,n(l.CV),1)]),_:2},1032,["to"]))),128))])):v("",!0)])):v("",!0)],64)}}},it=P(Z,[["__scopeId","data-v-d8ffa575"]]);export{it as default};
