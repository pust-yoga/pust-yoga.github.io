import{_ as B,u as j,l as q,r as _,m as z,f as P,c,b as V,a as e,k as l,t as o,F as k,h as U,q as $,s as y,o as i,j as L,w as S,n as A,e as E}from"./DrjVoR8_.js";import{u as D}from"./D1qaBEL8.js";const F={class:"page-container"},M={key:0,class:"page-title"},K={class:"card-wrapper"},O={key:0,class:"card-container"},R={class:"card-content"},W=["src"],H={class:"teacher-info"},G={class:"contact-details"},J={class:"contact-phone"},Q={class:"contact-details"},X={class:"contact-email"},Y={class:"contact-details"},Z={class:"card-navigation"},ee={style:{flex:"1",display:"flex"}},te={style:{flex:"1",display:"flex","justify-content":"flex-end"}},ae={key:1},se={key:1,class:"page-2-title"},ne={key:2,class:"activity-grid"},oe={class:"image-container"},ie=["src"],ce={class:"activity-title"},re={class:"activity-description"},le={class:"activity-date-container"},de={class:"activity-date"},w="Discover information about this teacher and their activities.",ue={__name:"[teacher]",setup(pe){const{$supabase:h}=j(),d=q(),t=_(null),m=_(!1),g=_(!1);D(z(()=>t.value?{title:`${t.value.firstname} - Teacher Profile`,meta:[{name:"description",content:t.value.CV||w},{property:"og:title",content:`${t.value.firstname} - Teacher Profile`},{property:"og:description",content:t.value.CV||w},{property:"og:image",content:t.value.picture||""}]}:{}));async function N(){const{data:s,error:a}=await h.from("teacher").select(`
      *,
      teacher_activity (
        *,
        activity (*)
      )
    `).eq("id",d.params.teacher).single();if(a)console.error("Error fetching teacher:",a);else{t.value={...s,activities:s.teacher_activity.map(v=>v.activity)};const u=parseInt(d.params.teacher),p=await h.from("teacher").select("id").lt("id",u).order("id",{ascending:!1}).limit(1),r=await h.from("teacher").select("id").gt("id",u).order("id",{ascending:!0}).limit(1);m.value=p.data&&p.data.length>0,g.value=r.data&&r.data.length>0}}P(()=>{N()});function f(s){y().push(`/teachers/${s}`)}function C(){y().push("/teachers")}function T(){const s=parseInt(d.params.teacher)-1;s>0&&f(s)}function I(){const s=parseInt(d.params.teacher)+1;f(s)}return(s,a)=>{var r,v,x,b;const u=$,p=E;return i(),c(k,null,[V(u,{label:t.value?t.value.firstname:" "},null,8,["label"]),e("div",F,[t.value?(i(),c("h1",M,o(((r=t.value.firstname)==null?void 0:r.toUpperCase())||"UNKNOWN"),1)):l("",!0),e("div",{class:"back-link"},[e("button",{onClick:C,class:"nav-btn-2"},a[0]||(a[0]=[e("svg",{class:"arrow-icon-2",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",viewBox:"0 0 16 16"},[e("path",{"fill-rule":"evenodd",d:"M11.354 1.646a.5.5 0 0 1 0 .708L5.207 8l6.147 5.646a.5.5 0 0 1-.708.708l-6.5-6a.5.5 0 0 1 0-.708l6.5-6a.5.5 0 0 1 .708 0z"})],-1),e("span",{class:"nav-text-1"},"Back to Teachers",-1)]))]),e("div",K,[t.value?(i(),c("div",O,[e("div",R,[e("img",{src:t.value.picture,alt:"Teacher Picture",loading:"lazy",class:"teacher-image"},null,8,W),e("div",H,[e("h2",null,"Meet "+o(t.value.firstname||"Unknown")+"!",1),e("p",null,o(t.value.CV||"No CV available."),1),e("div",G,[e("div",J,[a[1]||(a[1]=e("img",{loading:"lazy",class:"icon",src:"https://rrginxykskmhdqduxshx.supabase.co/storage/v1/object/public/images/icon-phone.png",alt:"Phone icon"},null,-1)),e("p",Q,o(t.value.phone||"Not provided"),1)]),e("div",X,[a[2]||(a[2]=e("img",{loading:"lazy",class:"icon",src:"https://rrginxykskmhdqduxshx.supabase.co/storage/v1/object/public/images/icon-email.png",alt:"Email icon"},null,-1)),e("p",Y,o(t.value.email||"Not provided"),1)])])])]),e("div",Z,[e("div",ee,[m.value?(i(),c("button",{key:0,onClick:T,class:"nav-btn"},a[3]||(a[3]=[e("img",{class:"arrow-icon",src:"https://rrginxykskmhdqduxshx.supabase.co/storage/v1/object/public/images//icon_arrow_left.png"},null,-1),e("span",{class:"nav-text-2"},"Previous Teacher",-1)]))):l("",!0)]),e("div",te,[g.value?(i(),c("button",{key:0,onClick:I,class:"nav-btn"},a[4]||(a[4]=[e("span",{class:"nav-text-2"},"Next Teacher",-1),e("img",{class:"arrow-icon",src:"https://rrginxykskmhdqduxshx.supabase.co/storage/v1/object/public/images//icon_arrow_right.png"},null,-1)]))):l("",!0)])])])):(i(),c("div",ae,a[5]||(a[5]=[e("p",null,"Loading teacher information...",-1)])))]),t.value?(i(),c("div",se,o(((v=t.value.firstname)==null?void 0:v.toUpperCase())+"'S CLASSES"||"UNKNOWN"),1)):l("",!0),(b=(x=t.value)==null?void 0:x.activities)!=null&&b.length?(i(),c("div",ne,[(i(!0),c(k,null,U(t.value.activities,n=>(i(),L(p,{key:n.id,class:"activity-card card-hover",to:`/activities/${n.id}`},{default:S(()=>[e("div",oe,[e("img",{src:n.picture,alt:"Activity Image",loading:"lazy",class:"activity-image"},null,8,ie),e("span",{class:A(["expertise-level",{advanced:n.expertise_level==="Advanced",intermediate:n.expertise_level==="Intermediate",beginner:n.expertise_level==="Beginner"}])},o(n.expertise_level.toUpperCase()),3)]),e("h3",ce,o(n.name),1),e("p",re,o(n.description),1),e("div",le,[a[6]||(a[6]=e("img",{loading:"lazy",src:"https://rrginxykskmhdqduxshx.supabase.co/storage/v1/object/public/images//icon-calender.png",alt:"Calendar icon",class:"calendar-icon"},null,-1)),e("p",de,o(n.date),1)])]),_:2},1032,["to"]))),128))])):l("",!0)])],64)}}},_e=B(ue,[["__scopeId","data-v-efde8a2f"]]);export{_e as default};
